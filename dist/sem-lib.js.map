{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 888bb2a209e22d56f02e","webpack:///./lib/sem-lib.js","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/js-sorted-set/src/SortedSet/AbstractSortedSet.coffee","webpack:///./node_modules/js-sorted-set/src/SortedSet/RedBlackTreeStrategy.coffee","webpack:///./node_modules/js-sorted-set/src/SortedSet/AbstractBinaryTreeStrategy.coffee","webpack:///./node_modules/js-sorted-set/src/SortedSet/BinaryTreeIterator.coffee"],"names":["AbstractSortedSet","require","RedBlackTreeStrategy","hasProp","Object","hasOwnProperty","inherits","child","parent","key","call","ctor","constructor","prototype","__super__","SortedSet","options","strategy","add","insert","get","value","priv","comparator","node","root","cmp","left","right","undefined","isNumeric","Array","isArray","obj","parsed","parseFloat","isObject","globalCounter","toInteger","num","positive","_default","Number","POSITIVE_INFINITY","NEGATIVE_INFINITY","parseInt","Semaphore","capacity","isFull","priority","sync","_queue","priorityComparator","id","_capacity","_numTokens","setImmediateTick","global","setImmediate","fn","setTimeout","_clearImmediateTick","clearImmediate","clearTimeout","getNumTokens","getCapacity","setCapacity","semGive","isGivenBack","destroyed","_semTake","semFlush","forEach","group","stack","item","semTake","result","task","timeOut","onTimeOut","onCancel","unfair","shouldTakeToken","onTake","Function","semaphore","taken","cancel","_removeItem","setPriority","nextPriority","remove","length","_addItemPriority","timer","res","addCounter","nextNum","hasResult","disable","_shouldTakeToken","_nextGroupItem","groupIterator","itemIterator","beginIterator","Math","min","next","topSync","taking","keepAlive","_keepAlive","weakerIterator","wearkeGroup","weakerItemIterator","weakerItem","endIterator","previous","hasPrevious","timerID","_checkKeepAlive","_destroyWaiting","destroy","safe","onDestroy","_destroying","__onDestroy","_destroy","i","_len","schedule","collection","iteratee","callback","semID","arguments","count","index","keys","len","items","doneCalled","canceled","errors","hasError","coll","called","Error","err","code","icancel","abort","iterate","bind","proxy","defineProperty","configurable","enumerable","set","loop","size","_addGroup","_hasInWaitingTask","isAlive","Boolean","hasInWaitingTask","_countInWaitingTokens","iterator","itemerator","hasNext","_this","property","idComparator","a","b","exports","semCreate","create","apply","g","eval","e","window","module"],"mappings":"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","file":"sem-lib.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"semLib\"] = factory();\n\telse\n\t\troot[\"semLib\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 888bb2a209e22d56f02e","const AbstractSortedSet = require(\"js-sorted-set/src/SortedSet/AbstractSortedSet\");\nconst RedBlackTreeStrategy = require(\"js-sorted-set/src/SortedSet/RedBlackTreeStrategy\");\n\nconst hasProp = Object.hasOwnProperty;\n\nconst inherits = function(child, parent) {\n    for (const key in parent) {\n        if (hasProp.call(parent, key)) {\n            child[key] = parent[key];\n        }\n    }\n\n    function ctor() {\n        // eslint-disable-next-line no-invalid-this\n        this.constructor = child;\n    }\n    ctor.prototype = parent.prototype;\n    child.prototype = new ctor();\n    child.__super__ = parent.prototype; return child;\n};\n\nfunction SortedSet(options) {\n    if (options == null) {\n        options = {};\n    }\n    if (!options.strategy) {\n        options.strategy = RedBlackTreeStrategy;\n    }\n    SortedSet.__super__.constructor.call(this, options);\n}\n\ninherits(SortedSet, AbstractSortedSet);\n\nSortedSet.prototype.add = SortedSet.prototype.insert;\n\nSortedSet.prototype.get = function(value) {\n    // Use our optimzed get on RedBlackTreeStrategy\n    return this.priv.get(value);\n};\n\n// Optimization: take the first match.\nRedBlackTreeStrategy.prototype.get = function(value) {\n    const comparator = this.comparator;\n    let node = this.root;\n    let cmp;\n\n    while (node !== null) {\n        cmp = comparator(value, node.value);\n        if (cmp === 0) {\n            break;\n        } else if (cmp < 0) {\n            node = node.left;\n        } else {\n            node = node.right;\n        }\n    }\n\n    return node === null ? undefined : node.value;\n};\n\nconst isNumeric = obj => {\n    if (Array.isArray(obj)) {\n        return false;\n    }\n\n    const parsed = parseFloat(obj);\n    if (obj === parsed) {\n        return true;\n    }\n\n    return obj - parsed + 1 >= 0;\n};\n\nconst isObject = obj => {\n    return typeof obj === \"object\" && obj !== null;\n};\n\n// Debugging purpose\nlet globalCounter = 0;\n\n/**\n * Value of parsed interger or default value if not a number or < 0\n * @param  {Any} num value to parse\n * @param  {Interger} _default default value\n * @return {Interger} parsing result\n */\nfunction toInteger(num, positive, _default) {\n    if (!isNumeric(num)) {\n        return _default;\n    }\n\n    if (num === Number.POSITIVE_INFINITY) {\n        return num;\n    }\n\n    if (num === Number.NEGATIVE_INFINITY) {\n        return positive ? _default : num;\n    }\n\n    num = parseInt(num, 10);\n\n    return positive && num < 0 ? _default : num;\n}\n\n/**\n * @constructor\n *\n * @param {Integer} capacity (default = 1) Number of tokens that can be handled by the Semaphore\n * @param {Boolean} isFull (default = false) if true object is created with tokens\n * @param {Integer} priority (default = 15) default priority\n */\nfunction Semaphore(capacity, isFull, priority, sync = false) {\n    const _queue = new SortedSet({\n        comparator: priorityComparator\n    });\n\n    this.id = ++globalCounter;\n    this._capacity = toInteger(capacity, true, 1);\n    this._queue = _queue;\n    this._numTokens = isFull ? this._capacity : 0;\n    // eslint-disable-next-line no-magic-numbers\n    this.priority = toInteger(priority, false, 15);\n    this.sync = sync;\n}\n\nSemaphore.prototype.setImmediateTick = (function() {\n    if (typeof global === \"object\" && typeof global.setImmediate === \"function\") {\n        return global.setImmediate;\n    }\n\n    return function(fn) {\n        return setTimeout(fn, 1);\n    };\n})();\n\nSemaphore.prototype._clearImmediateTick = (function() {\n    if (typeof global === \"object\" && typeof global.clearImmediate === \"function\") {\n        return global.clearImmediate;\n    }\n\n    return function(id) {\n        clearTimeout(id);\n    };\n})();\n\n/**\n * Return number of available tokens\n * @return {Interger} number of available tokens\n */\nSemaphore.prototype.getNumTokens = function getNumTokens() {\n    return this._numTokens;\n};\n\n/**\n * Return maximum of available tokens\n * @return {Integer} maximum of available tokens\n */\nSemaphore.prototype.getCapacity = function getCapacity() {\n    return this._capacity;\n};\n\n/**\n * Set the maximum of available tokens\n * @return {Integer} maximum of available tokens\n */\nSemaphore.prototype.setCapacity = function getCapacity(capacity) {\n    this._capacity = toInteger(capacity, true, this._capacity);\n};\n\n/**\n * Add tokens to the Semaphore\n *\n * @param {Interger} num Number of tokens to add\n */\nSemaphore.prototype.semGive = function semGive(num, isGivenBack) {\n    if (this.destroyed) {\n        return false;\n    }\n\n    if (num !== Number.POSITIVE_INFINITY) {\n        num = toInteger(num, true, 1);\n        if (num < 1) {\n            num = 1;\n        }\n        this._numTokens += num;\n    } else {\n        this._numTokens = num;\n    }\n\n    if (!isGivenBack && this._numTokens > this._capacity) {\n        this._numTokens = this._capacity;\n    }\n\n    this._semTake(isGivenBack);\n\n    if (isGivenBack && this._numTokens > this._capacity) {\n        this._numTokens = this._capacity;\n    }\n\n    return true;\n};\n\n/**\n * Give tokens to every inwaiting tasks\n */\nSemaphore.prototype.semFlush = function semFlush() {\n    if (this.destroyed) {\n        return false;\n    }\n\n    this._numTokens = 0;\n    this._queue.forEach(group => {\n        group.stack.forEach(item => {\n            item.num = 0;\n        });\n    });\n    this._semTake();\n    return true;\n};\n\n/**\n * Wait for Semaphore availability before calling onTake callback\n * @example\n * semTake(Function[, takeInstance]);\n * semTake(Settings[, takeInstance]);\n *\n * @param {Object} options options with the following properties:\n * <ul>\n * <li>{Function} <b><em>onTake</em></b></li>: called on successful take\n * <li>{Integer} <b><em>num</em></b></li>(optional, default = 1): Number of tokens to take before calling onTake callback\n * <li>{Integer} <b><em>priority</em></b></li>(optional): task priority, smaller is higher priority\n * <li>{Number} <b><em>timeOut</em></b></li>(optional): milliseconds to wait before timeOut. If !(options['timeOut'] > 0), waiting will last forever\n * <li>{Function} <b><em>onTimeOut</em></b></li>(optional): called if timeOut occurs\n * </ul>\n * @return {Object|false} item item.addCounter(n = 1) => wait for n more tokens\n */\nSemaphore.prototype.semTake = function semTake(options, result) {\n    let task, timeOut, onTimeOut, onCancel, num, priority, unfair, shouldTakeToken, sync;\n\n    if (this.destroyed) {\n        return false;\n    }\n\n    if (isObject(options)) {\n        task = options.onTake;\n        priority = options.priority;\n        num = options.num;\n        timeOut = options.timeOut;\n        onTimeOut = options.onTimeOut;\n        onCancel = options.onCancel;\n        unfair = options.unfair;\n        shouldTakeToken = options.shouldTakeToken;\n        sync = options.sync;\n    } else if (typeof options === \"function\") {\n        task = options;\n        options = {};\n    }\n\n    if (typeof task !== \"function\") {\n        task = Function.prototype;\n    }\n\n    num = toInteger(num, true, 1);\n    priority = toInteger(priority, false, this.priority);\n\n    const item = {\n        id: ++globalCounter,\n        task,\n        priority,\n        num,\n        onTimeOut,\n        onCancel,\n        unfair,\n        shouldTakeToken,\n        sync,\n        semaphore: this,\n        taken: 0,\n        cancel: () => {\n            const taken = item.taken;\n            this._removeItem(item);\n\n            if (taken !== 0) {\n                // give on next tick to wait for all synchronous canceled to be done\n                this.setImmediateTick(() => {\n                    this.semGive(taken, true);\n                });\n            }\n\n            if (typeof onCancel === \"function\") {\n                onCancel();\n            }\n        },\n        setPriority: nextPriority => {\n            if (item.group == null) {\n                return;\n            }\n\n            nextPriority = toInteger(nextPriority, false, this.priority);\n            if (nextPriority === item.priority) {\n                return;\n            }\n\n            item.group.stack.remove(item);\n            if (item.group.stack.length === 0) {\n                // No more inWaiting for this priority group\n                item.semaphore._queue.remove(item.group);\n            }\n\n            item.priority = nextPriority;\n            this._addItemPriority(item);\n        }\n    };\n\n    this._addItemPriority(item);\n\n    if (isNumeric(timeOut) && timeOut > 0) {\n        item.timer = setTimeout(() => {\n            const taken = item.taken;\n            this._removeItem(item);\n\n            if (taken !== 0) {\n                // give on next tick to wait for all synchronous canceled to be done\n                this.setImmediateTick(() => {\n                    this.semGive(taken, true);\n                });\n            }\n\n            if (typeof onTimeOut === \"function\") {\n                onTimeOut();\n            }\n        }, timeOut);\n    }\n\n    const res = {\n        addCounter(nextNum) {\n            item.num += toInteger(nextNum, 1);\n        },\n\n        cancel() {\n            item.cancel();\n        },\n\n        setPriority(nextPriority) {\n            item.setPriority(nextPriority);\n        }\n    };\n\n    const hasResult = isObject(result);\n\n    if (hasResult) {\n        result.addCounter = res.addCounter;\n        result.cancel = res.cancel;\n        result.setPriority = res.setPriority;\n    }\n\n    item.disable = () => {\n        delete res.addCounter;\n        delete res.cancel;\n        delete res.setPriority;\n\n        if (hasResult) {\n            delete result.addCounter;\n            delete result.cancel;\n            delete result.setPriority;\n        }\n    };\n\n    this._semTake();\n    return res;\n};\n\nSemaphore.prototype._shouldTakeToken = function _shouldTakeToken(item, num) {\n    // avoid giving item as context when calling shouldTakeToken\n    return typeof item.shouldTakeToken !== \"function\" || (0, item.shouldTakeToken)(num, item.num, item.taken, this);\n};\n\nSemaphore.prototype._nextGroupItem = function _nextGroupItem() {\n    let groupIterator, group, itemIterator, item;\n\n    groupIterator = this._queue.beginIterator();\n    group = groupIterator.value();\n\n    itemIterator = group.stack.beginIterator();\n    item = itemIterator.value();\n\n    while (item && item.num !== 0 && !this._shouldTakeToken(item, Math.min(item.num, this._numTokens))) {\n        item = null;\n\n        itemIterator = itemIterator.next();\n        if (itemIterator === null) {\n            groupIterator = groupIterator.next();\n            if (groupIterator === null) {\n                break;\n            }\n\n            group = groupIterator.value();\n            itemIterator = group.stack.beginIterator();\n        }\n\n        item = itemIterator.value();\n    }\n\n    return [group, item];\n};\n\n/**\n * Take tokens if available\n *\n */\nSemaphore.prototype._semTake = function _semTake(topSync) {\n    if (this.taking) {\n        return;\n    }\n\n    if (typeof this.keepAlive === \"undefined\") {\n        this._keepAlive();\n    }\n\n    this.taking = true;\n    while (this._checkKeepAlive(this._destroyWaiting)) {\n        const [group, item] = this._nextGroupItem();\n        if (item == null) {\n            break;\n        }\n\n        let weakerIterator, wearkeGroup, weakerItemIterator, weakerItem;\n\n        // if item is still waiting for tokens\n        if (item.num > this._numTokens) {\n            item.taken += this._numTokens;\n            item.num -= this._numTokens;\n            this._numTokens = 0;\n\n            // take token from tasks with weaker priority\n            if (item.unfair && this._queue.length !== 1) {\n                weakerIterator = this._queue.endIterator().previous();\n\n                while (weakerIterator && item.num !== 0) {\n                    wearkeGroup = weakerIterator.value();\n                    if (wearkeGroup === group || wearkeGroup.priority <= this.priority) {\n                        // can only be unfair on tasks with lower priority that semaphore default priority\n                        break;\n                    }\n\n                    weakerItemIterator = wearkeGroup.stack.endIterator().previous();\n                    weakerItem = weakerItemIterator ? weakerItemIterator.value() : null;\n\n                    while (weakerItem && item.num !== 0) {\n                        if (weakerItem.taken > 0 && this._shouldTakeToken(item, Math.min(item.num, weakerItem.taken))) {\n                            if (item.num > weakerItem.taken) {\n                                weakerItem.num += weakerItem.taken;\n                                item.num -= weakerItem.taken;\n                                weakerItem.taken = 0;\n                            } else {\n                                weakerItem.taken -= item.num;\n                                weakerItem.num += item.num;\n                                item.num = 0;\n                            }\n                        }\n\n                        weakerItemIterator = weakerItemIterator.hasPrevious() && weakerItemIterator.previous();\n                        weakerItem = weakerItemIterator ? weakerItemIterator.value() : null;\n                    }\n\n                    weakerIterator = weakerIterator.hasPrevious() && weakerIterator.previous();\n                }\n            }\n\n            // if item is still waiting for tokens, try again at next give or flush\n            if (item.num !== 0) {\n                break;\n            }\n        }\n\n        item.taken += item.num;\n        if (this._numTokens !== Number.POSITIVE_INFINITY) {\n            this._numTokens -= item.num;\n        }\n        item.num = 0;\n\n        const sync = typeof topSync !== \"undefined\" ? topSync : typeof item.sync !== \"undefined\" ? item.sync : this.sync;\n        const {disable, taken, task} = item;\n        this._removeItem(item);\n\n        if (sync) {\n            disable();\n            task();\n        } else {\n            // Non blocking call of callback\n            // A way to loop through in waiting tasks without blocking\n            // the semaphore process until done\n            let timerID = this.setImmediateTick(() => {\n                timerID = null;\n                disable();\n                task();\n            });\n            item.cancel = () => {\n                this._clearImmediateTick(timerID);\n                disable();\n                timerID = null;\n\n                // give on next tick to wait for all synchronous canceled to be done\n                this.setImmediateTick(() => {\n                    this.semGive(taken, true);\n                });\n\n                const {onCancel} = item;\n                if (typeof onCancel === \"function\") {\n                    onCancel();\n                }\n            };\n        }\n    }\n    this.taking = false;\n};\n\n/**\n * Destroy all inwaiting tasks\n * @param  {Boolean} safe if true, wait for all inwaiting tasks to be performed, else, destroy with no warn\n */\nSemaphore.prototype.destroy = function(safe, onDestroy) {\n    if (this._destroying) {\n        return false;\n    }\n\n    this._destroying = true;\n    this.__onDestroy = onDestroy;\n\n    if (safe !== false) {\n        this._destroyWaiting = true;\n        this._semTake();\n        return true;\n    }\n\n    return this._destroy(safe);\n};\n\nSemaphore.prototype._destroy = function(safe) {\n    this._destroyWaiting = false;\n\n    // for loop to avoid infinite loop with while\n    for (let i = 0, _len = this._queue.length; i < _len; i++) {\n        const group = this._queue.beginIterator().value();\n        const item = group.stack.beginIterator().value();\n\n        if (safe !== false) {\n            item.cancel();\n        }\n        this._removeItem(item);\n    }\n\n    if (this._checkKeepAlive()) {\n        return false;\n    }\n\n    const __onDestroy = this.__onDestroy;\n\n    this.destroyed = true;\n    if (\"function\" === typeof __onDestroy) {\n        __onDestroy();\n    }\n    return true;\n};\n\nSemaphore.prototype.schedule = function(collection, priority, iteratee, callback) {\n    const semID = this;\n\n    switch (arguments.length) {\n        case 2:\n            if (typeof priority === \"function\") {\n                callback = priority;\n                priority = null;\n            }\n            break;\n        case 3:\n            callback = iteratee;\n            iteratee = null;\n\n            if (\"function\" === typeof priority) {\n                iteratee = priority;\n                priority = null;\n            }\n            break;\n        default:\n            // Nothing to do\n    }\n\n    if (callback == null) {\n        callback = Function.prototype;\n    }\n\n    let count = 0;\n    let index = -1;\n    const isArray = Array.isArray(collection);\n    const keys = isArray ? null : Object.keys(collection);\n    const len = isArray ? collection.length : keys.length;\n\n    if (len === 0) {\n        callback();\n        return null;\n    }\n\n    const items = new Array(len);\n    let doneCalled = false;\n    let canceled = false;\n    let taken = 0;\n    const errors = new Array(len);\n    let hasError = false;\n\n    const onTake = (coll, i) => {\n        taken++;\n        items[i] = null;\n        const key = isArray ? i : keys[i];\n\n        let called = false;\n        const next = err => {\n            if (called) {\n                throw new Error(\"callback already called\");\n            }\n            called = true;\n            items[i] = null;\n\n            semID.semGive();\n            taken--;\n\n            if (doneCalled) {\n                return;\n            }\n\n            if (canceled && !err) {\n                err = new Error(\"canceled\");\n                err.code = \"CANCELED\";\n            }\n\n            if (err) {\n                if (!hasError) {\n                    hasError = true;\n                    if (!canceled) {\n                        cancel();\n                    }\n                }\n                errors[i] = err;\n            }\n\n            if (++count === len || hasError && taken === 0) {\n                doneCalled = true;\n                if (canceled) {\n                    errors.code = \"CANCELED\";\n                }\n                callback(hasError ? errors : null);\n            }\n        };\n\n        if (canceled) {\n            next();\n            return;\n        }\n\n        const icancel = typeof iteratee === \"function\" ? iteratee(coll[key], key, next) : coll[key](next);\n\n        items[i] = {\n            cancel: () => {\n                if (typeof icancel === \"function\") {\n                    icancel();\n                } else if (icancel !== null && typeof icancel === \"object\") {\n                    if (typeof icancel.cancel === \"function\") {\n                        icancel.cancel();\n                    } else if (typeof icancel.abort === \"function\") {\n                        icancel.abort();\n                    }\n                }\n            }\n        };\n    };\n\n    const iterate = i => {\n        const item = semID.semTake({\n            priority,\n            onTake: onTake.bind(null, collection, i)\n        });\n\n        const proxy = {\n            cancel: item.cancel ? () => {\n                item.cancel();\n                onTake(collection, i);\n            }: undefined\n        };\n\n        for (const key in item) {\n            if (key === \"cancel\") {\n                continue;\n            }\n\n            Object.defineProperty(proxy, key, {\n                configurable: true,\n                enumerable: true,\n                get() {\n                    return item[key];\n                },\n                set(value) {\n                    item[key] = value;\n                    return value;\n                }\n            });\n        }\n\n        return proxy;\n    };\n\n    const loop = () => {\n        do {\n            ++index;\n            items[index] = iterate(index);\n        } while (index !== len - 1);\n    };\n\n    function cancel() {\n        if (canceled) {\n            return;\n        }\n\n        canceled = true;\n        for (let i = 0, size = items.length; i < size; i++) {\n            if (items[i] !== null && typeof items[i] === \"object\" && typeof items[i].cancel === \"function\") {\n                items[i].cancel();\n                items[i] = null;\n            }\n        }\n    }\n\n    const setPriority = nextPriority => {\n        for (let i = 0, size = items.length; i < size; i++) {\n            if (items[i] !== null && typeof items[i] === \"object\" && typeof items[i].setPriority === \"function\") {\n                items[i].setPriority(nextPriority);\n            }\n        }\n    };\n\n    loop();\n\n    return {\n        setPriority,\n        cancel\n    };\n};\n\nSemaphore.prototype._addItemPriority = function(item) {\n    let group = this._queue.get({\n        priority: item.priority\n    });\n    if (!group) {\n        group = this._addGroup(item);\n    }\n    group.stack.add(item);\n    item.group = group;\n};\n\nSemaphore.prototype._checkKeepAlive = function _checkKeepAlive(_destroyWaiting) {\n    if (this._hasInWaitingTask()) {\n        return true;\n    }\n\n    if (this.keepAlive) {\n        clearTimeout(this.keepAlive);\n        delete this.keepAlive;\n    }\n\n    if (_destroyWaiting) {\n        this._destroy();\n    }\n    return false;\n};\n\nSemaphore.prototype.isAlive = function isAlive() {\n    return Boolean(this.keepAlive);\n};\n\nSemaphore.prototype.hasInWaitingTask = function hasInWaitingTask() {\n    return hasProp.call(this, \"_queue\") && this._hasInWaitingTask();\n};\n\nSemaphore.prototype._countInWaitingTokens = function _countInWaitingTokens() {\n    let count = 0;\n\n    if (!this.hasInWaitingTask()) {\n        return count;\n    }\n\n    let iterator = this._queue.beginIterator();\n\n    let group, itemerator, item;\n    while (iterator) {\n        group = iterator.value();\n\n        if (group != null && group.stack.length !== 0) {\n            itemerator = group.stack.beginIterator();\n\n            while (itemerator) {\n                item = itemerator.value();\n                if (item != null) {\n                    count += item.num;\n                }\n                itemerator = itemerator.hasNext() && itemerator.next();\n            }\n        }\n\n        iterator = iterator.hasNext() && iterator.next();\n    }\n\n    return count;\n};\n\nSemaphore.prototype._hasInWaitingTask = function _hasInWaitingTask() {\n    return this._queue.length !== 0;\n};\n\nSemaphore.prototype._keepAlive = function _keepAlive() {\n    if (!this._hasInWaitingTask()) {\n        return;\n    }\n    const _this = this;\n    this.keepAlive = setTimeout(() => {\n        _this._keepAlive();\n    }, 1000);\n};\n\n/**\n * Remove item from a priority group\n *\n */\nSemaphore.prototype._removeItem = function _removeItem(item) {\n    if (item.timer) {\n        clearTimeout(item.timer);\n    }\n\n    item.group.stack.remove(item);\n    if (item.group.stack.length === 0) {\n        // No more inWaiting for this priority group\n        item.semaphore._queue.remove(item.group);\n\n        item.semaphore._checkKeepAlive();\n    }\n\n    // Remove properties to allow garbage collector\n    // eslint-disable-next-line guard-for-in\n    for (const property in item) {\n        if (property !== \"id\") {\n            delete item[property];\n        }\n    }\n};\n\nSemaphore.prototype._addGroup = function _addGroup(item) {\n    const stack = new SortedSet({\n        comparator: idComparator\n    });\n\n    const group = {\n        priority: item.priority,\n        stack\n    };\n    item.semaphore._queue.add(group);\n    return group;\n};\n\nfunction idComparator(a, b) {\n    return a.id > b.id ? 1 : a.id < b.id ? -1 : 0;\n}\n\nfunction priorityComparator(a, b) {\n    return a.priority > b.priority ? 1 : a.priority < b.priority ? -1 : 0;\n}\n\nexports.semCreate = function() {\n    const semID = Object.create(Semaphore.prototype);\n    Semaphore.apply(semID, arguments);\n    return semID;\n};\n\n// Allow customization/Patch fix from outside\nexports.Semaphore = Semaphore;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/sem-lib.js","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n// WEBPACK FOOTER //\n// (webpack)/buildin/global.js","module.exports = class AbstractSortedSet\n  constructor: (options) ->\n    throw 'Must pass options.strategy, a strategy' if !options?.strategy?\n    throw 'Must pass options.comparator, a comparator' if !options?.comparator?\n    @priv = new options.strategy(options)\n    @length = 0\n\n  insert: (value) ->\n    @priv.insert(value)\n    @length += 1\n    this\n\n  remove: (value) ->\n    @priv.remove(value)\n    @length -= 1\n    this\n\n  contains: (value) ->\n    @priv.contains(value)\n\n  # Returns this set as an Array\n  toArray: -> @priv.toArray()\n\n  forEach: (callback, thisArg) ->\n    @priv.forEachImpl(callback, this, thisArg)\n    this\n\n  map: (callback, thisArg) ->\n    ret = []\n    @forEach (value, index, self) ->\n      ret.push(callback.call(thisArg, value, index, self))\n    ret\n\n  filter: (callback, thisArg) ->\n    ret = []\n    @forEach (value, index, self) ->\n      ret.push(value) if callback.call(thisArg, value, index, self)\n    ret\n\n  every: (callback, thisArg) ->\n    ret = true\n    @forEach (value, index, self) ->\n      ret = false if ret && !callback.call(thisArg, value, index, self)\n    ret\n\n  some: (callback, thisArg) ->\n    ret = false\n    @forEach (value, index, self) ->\n      ret = true if !ret && callback.call(thisArg, value, index, self)\n    ret\n\n  # An iterator is similar to a C++ iterator: it points _before_ a value.\n  #\n  # So in this sorted set:\n  #\n  #   | 1 | 2 | 3 | 4 | 5 |\n  #   ^a      ^b          ^c\n  #\n  # `a` is a pointer to the beginning of the iterator. `a.value()` returns\n  # `3`. `a.previous()` returns `null`. `a.setValue()` works, if\n  # `options.allowSetValue` is true.\n  # \n  # `b` is a pointer to the value `3`. `a.previous()` and `a.next()` both do\n  # the obvious.\n  #\n  # `c` is a pointer to the `null` value. `c.previous()` works; `c.next()`\n  # returns null. `c.setValue()` throws an exception, even if\n  # `options.allowSetValue` is true.\n  #\n  # Iterators have `hasNext()` and `hasPrevious()` methods, too.\n  #\n  # Iterators are immutible. `iterator.next()` returns a new iterator.\n  #\n  # Iterators become invalid as soon as `insert()` or `remove()` is called.\n  findIterator: (value) ->\n    @priv.findIterator(value)\n\n  # Finds an iterator pointing to the lowest possible value.\n  beginIterator: ->\n    @priv.beginIterator()\n\n  # Finds an iterator pointing to the `null` value.\n  endIterator: ->\n    @priv.endIterator()\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/js-sorted-set/src/SortedSet/AbstractSortedSet.coffee","AbstractBinaryTreeStrategy = require('./AbstractBinaryTreeStrategy')\n\n# An implementation of Left-Leaning Red-Black trees.\n#\n# It's copied from http://www.cs.princeton.edu/~rs/talks/LLRB/LLRB.pdf.\n# It's practically a copy-paste job, minus the semicolons. missing bits were\n# filled in with hints from\n# http://www.teachsolaisgames.com/articles/balanced_left_leaning.html\n#\n# Here are some differences:\n# * This isn't a map structure: it's just a tree. There are no keys: the\n#   comparator applies to the values.\n# * We use the passed comparator.\n\nclass Node\n  constructor: (@value) ->\n    @left = null\n    @right = null\n    @isRed = true # null nodes -- leaves -- are black\n\nrotateLeft = (h) ->\n  x = h.right\n  h.right = x.left\n  x.left = h\n  x.isRed = h.isRed\n  h.isRed = true\n  x\n\nrotateRight = (h) ->\n  x = h.left\n  h.left = x.right\n  x.right = h\n  x.isRed = h.isRed\n  h.isRed = true\n  x\n\ncolorFlip = (h) ->\n  h.isRed = !h.isRed\n  h.left.isRed = !h.left.isRed\n  h.right.isRed = !h.right.isRed\n  undefined\n\nmoveRedLeft = (h) ->\n  #throw 'Preconditions failed' if !(!h.left.isRed && !h.left.left?.isRed)\n  colorFlip(h)\n  if h.right isnt null && h.right.left isnt null && h.right.left.isRed\n    h.right = rotateRight(h.right)\n    h = rotateLeft(h)\n    colorFlip(h)\n  h\n\nmoveRedRight = (h) ->\n  #throw 'Preconditions failed' if !(!h.right.isRed && !h.right.left?.isRed)\n  colorFlip(h)\n  if h.left isnt null && h.left.left isnt null && h.left.left.isRed\n    h = rotateRight(h)\n    colorFlip(h)\n  h\n\ninsertInNode = (h, value, compare) ->\n  if h is null\n    return new Node(value)\n\n  #if h.left isnt null && h.left.isRed && h.right isnt null && h.right.isRed\n  #  colorFlip(h)\n\n  if h.value is value\n    throw 'Value already in set'\n  else\n    if compare(value, h.value) < 0\n      h.left = insertInNode(h.left, value, compare)\n    else\n      h.right = insertInNode(h.right, value, compare)\n\n  if h.right isnt null && h.right.isRed && !(h.left isnt null && h.left.isRed)\n    h = rotateLeft(h)\n\n  if h.left isnt null && h.left.isRed && h.left.left isnt null && h.left.left.isRed\n    h = rotateRight(h)\n\n  # Put this here -- I couldn't get the whole thing to work otherwise :(\n  if h.left isnt null && h.left.isRed && h.right isnt null && h.right.isRed\n    colorFlip(h)\n\n  h\n\nfindMinNode = (h) ->\n  while h.left isnt null\n    h = h.left\n  h\n\nfixUp = (h) ->\n  # Fix right-leaning red nodes\n  if h.right isnt null && h.right.isRed\n    h = rotateLeft(h)\n\n  # Handle a 4-node that traverses down the left\n  if h.left isnt null && h.left.isRed && h.left.left isnt null && h.left.left.isRed\n    h = rotateRight(h)\n\n  # split 4-nodes\n  if h.left isnt null && h.left.isRed && h.right isnt null && h.right.isRed\n    colorFlip(h)\n\n  h\n\nremoveMinNode = (h) ->\n  if h.left is null\n    return null\n\n  if !h.left.isRed && !(h.left.left isnt null && h.left.left.isRed)\n    h = moveRedLeft(h)\n\n  h.left = removeMinNode(h.left)\n\n  fixUp(h)\n\nremoveFromNode = (h, value, compare) ->\n  throw 'Value not in set' if h is null\n\n  if h.value isnt value && compare(value, h.value) < 0\n    throw 'Value not in set' if h.left is null\n    if !h.left.isRed && !(h.left.left isnt null && h.left.left.isRed)\n      h = moveRedLeft(h)\n    h.left = removeFromNode(h.left, value, compare)\n  else\n    if h.left isnt null && h.left.isRed\n      h = rotateRight(h)\n\n    if h.right is null\n      if value is h.value\n        return null # leaf node; LLRB assures no left value here\n      else\n        throw 'Value not in set'\n\n    if !h.right.isRed && !(h.right.left isnt null && h.right.left.isRed)\n      h = moveRedRight(h)\n    if value is h.value\n      h.value = findMinNode(h.right).value\n      h.right = removeMinNode(h.right)\n    else\n      h.right = removeFromNode(h.right, value, compare)\n\n  h = fixUp(h) if h isnt null\n\n  h\n\nmodule.exports = class RedBlackTreeStrategy extends AbstractBinaryTreeStrategy\n  constructor: (@options) ->\n    @comparator = @options.comparator\n    @root = null\n\n  insert: (value) ->\n    @root = insertInNode(@root, value, @comparator)\n    @root.isRed = false # always\n    undefined\n\n  remove: (value) ->\n    @root = removeFromNode(@root, value, @comparator)\n    @root.isRed = false if @root isnt null\n    undefined\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/js-sorted-set/src/SortedSet/RedBlackTreeStrategy.coffee","BinaryTreeIterator = require('./BinaryTreeIterator')\n\nbinaryTreeTraverse = (node, callback) ->\n  if node isnt null\n    binaryTreeTraverse(node.left, callback)\n    callback(node.value)\n    binaryTreeTraverse(node.right, callback)\n  undefined\n\n# An AbstractBinaryTree has a @root. @root is null or an object with\n# `.left`, `.right` and `.value` properties.\nclass AbstractBinaryTree\n  toArray: ->\n    ret = []\n    binaryTreeTraverse(@root, (value) -> ret.push(value))\n    ret\n\n  forEachImpl: (callback, sortedSet, thisArg) ->\n    i = 0\n    binaryTreeTraverse @root, (value) ->\n      callback.call(thisArg, value, i, sortedSet)\n      i += 1\n    undefined\n\n  contains: (value) ->\n    comparator = @comparator\n\n    node = @root\n    while node isnt null\n      cmp = comparator(value, node.value)\n      if cmp == 0\n        break\n      else if cmp < 0\n        node = node.left\n      else\n        node = node.right\n\n    node isnt null && node.value == value\n\n  findIterator: (value) -> BinaryTreeIterator.find(this, value, @comparator)\n  beginIterator: -> BinaryTreeIterator.left(this)\n  endIterator: -> BinaryTreeIterator.right(this)\n\nmodule.exports = AbstractBinaryTree\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/js-sorted-set/src/SortedSet/AbstractBinaryTreeStrategy.coffee","descendAllTheWay = (leftOrRight, node) ->\n  # Assumes node._iteratorParentNode is set\n  while node[leftOrRight] isnt null\n    parent = node\n    node = node[leftOrRight]\n    node._iteratorParentNode = parent\n  node\n\nmoveCursor = (leftOrRight, node) ->\n  if node[leftOrRight] isnt null\n    parent = node\n    node = node[leftOrRight]\n    node._iteratorParentNode = parent\n    rightOrLeft = if leftOrRight == 'left' then 'right' else 'left'\n    node = descendAllTheWay(rightOrLeft, node)\n  else\n    while (parent = node._iteratorParentNode) isnt null && parent[leftOrRight] is node\n      node = parent\n    node = parent # either null or the correct-direction parent\n\n  node\n\n# The BinaryTreeIterator actually writes to the tree: it maintains a\n# \"_iteratorParentNode\" variable on each node. Please ignore this.\nclass BinaryTreeIterator\n  constructor: (@tree, @node) ->\n\n  next: ->\n    if @node is null\n      null\n    else\n      node = moveCursor('right', @node)\n      new BinaryTreeIterator(@tree, node)\n\n  previous: ->\n    if @node is null\n      if @tree.root is null\n        null\n      else\n        @tree.root._iteratorParentNode = null\n        node = descendAllTheWay('right', @tree.root)\n        new BinaryTreeIterator(@tree, node)\n    else\n      node = moveCursor('left', @node)\n      if node is null\n        null\n      else\n        new BinaryTreeIterator(@tree, node)\n\n  hasNext: -> @node isnt null\n  hasPrevious: -> @previous() isnt null\n  value: -> if @node is null then null else @node.value\n  setValue: (value) ->\n    throw 'Must set options.allowSetValue' if !@tree.options.allowSetValue\n    throw 'Cannot set value at end of set' if !@hasNext()\n    @node.value = value\n\nBinaryTreeIterator.find = (tree, value, comparator) ->\n  root = tree.root\n  root?._iteratorParentNode = null\n  node = root\n  nextNode = null # For finding an in-between node\n  while node isnt null\n    cmp = comparator(value, node.value)\n    if cmp == 0\n      break\n    else if cmp < 0\n      break if node.left is null\n\n      nextNode = node # If we descend all right after this until there are\n                      # no more right nodes, we want to return an\n                      # \"in-between\" iterator ... pointing here.\n      node.left._iteratorParentNode = node\n      node = node.left\n    else\n      if node.right isnt null\n        node.right._iteratorParentNode = node\n        node = node.right\n      else\n        node = nextNode\n        break\n\n  return new BinaryTreeIterator(tree, node)\n\nBinaryTreeIterator.left = (tree) ->\n  if tree.root is null\n    new BinaryTreeIterator(tree, null)\n  else\n    tree.root._iteratorParentNode = null\n    node = descendAllTheWay('left', tree.root)\n    new BinaryTreeIterator(tree, node)\n\nBinaryTreeIterator.right = (tree) ->\n  new BinaryTreeIterator(tree, null)\n\nmodule.exports = BinaryTreeIterator\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/js-sorted-set/src/SortedSet/BinaryTreeIterator.coffee"],"sourceRoot":""}